---
title: "Git & GitHub"
execute:
  eval: false
  echo: true
  warning: false
---

## Git & GitHub

### Contents

- [GitHub Auth (new laptop)](#github-auth-new-laptop)
- [Repo Setup on the VM](#repo-setup-on-the-vm)

## GitHub Auth (new laptop)

### Fix GitHub auth error on a new laptop

Error message:

```
remote: Invalid username or token.
Password authentication is not supported for Git operations.
```

This means Git is trying to use HTTPS + password. GitHub no longer accepts account passwords for Git operations.

### Recommended fix (SSH)

1. Check current remote:

```bash
git remote -v
```

2. Create an SSH key (if you do not already have one):

```bash
ssh-keygen -t ed25519 -C "your_email@biochem.mpg.de"
```

3. Start agent and add the key:

```bash
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/id_ed25519
```

4. Copy public key and add it to GitHub:

```bash
cat ~/.ssh/id_ed25519.pub
```

GitHub: `Settings -> SSH and GPG keys -> New SSH key`

5. Switch repo remote to SSH:

```bash
git remote set-url origin git@github.com:yeroslaviz/BCFNGS-project-management.git
```

6. Test and pull:

```bash
ssh -T git@github.com
git pull origin main
```

### Fallback fix (HTTPS + PAT)

If SSH is not possible, use a Personal Access Token (PAT), not your account password.

1. Keep/set HTTPS remote:

```bash
git remote set-url origin https://github.com/yeroslaviz/BCFNGS-project-management.git
```

2. Pull/push and enter:
- Username: your GitHub username
- Password: your PAT token

3. Optional (store credentials on macOS keychain):

```bash
git config --global credential.helper osxkeychain
```

### Quick sanity check

```bash
git remote -v
git fetch origin
git status
```

For VM-side Git troubleshooting (divergent branches, stash/pull, merge conflicts), see **VM Troubleshooting Guide → Git / GitHub**.


## Repo Setup on the VM

Expected server layout:

```
/srv/shiny-server/
├── sequencing-app/
│ ├── app.R
│ ├── setup_database.R
│ ├── sequencing_projects.db
│ └── www/
  │ ├── logo.png
  │ └── minerva.png
```
